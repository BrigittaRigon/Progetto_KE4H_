<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Porta Maggiore </title>
  <link rel="stylesheet" href="../style.css">
  <style>
    pre {
      background: #f3e6ff;
      border-left: 4px solid #6a0dad;
      padding: 10px;
      overflow-x: auto;
      border-radius: 8px;
      font-size: 14px;
    }
    h2 {
      color: #4b0082;
      margin-top: 30px;
    }
    .img-container {
      text-align: center;
      margin: 20px 0;
    }
    .img-container img {
      max-width: 80%;
      border-radius: 10px;
      box-shadow: 0 4px 8px rgba(0,0,0,0.2);
    }
    h3 {
      color: #be6cfa; 
      margin-top: 26px; 
    }
    table {
      border-collapse: collapse;
      margin: 20px auto;
      width: 80%;
      background: #fff;
    }
    th, td {
      border: 1px solid #ddd;
      padding: 10px;
      text-align: left;
    }
    th {
      background: #6a0dad;
      color: white;
    }
  </style>

</head>
<body>
  <!-- NAVBAR -->
 <nav>
  <ul>
    <li><a href="../index.html">üè† Home</a></li>
    <li><a href="../methodology.html">Methodology</a></li>
    <li><a href="../sparql.html">SPARQL Queries</a></li>
    <li>
      <a href="#">Monuments ‚ñº</a>
      <ul>
        <li><a href="../monuments/porta_porta_maggiore.html">Porta Maggiore</a></li>
        <li><a href="../monuments/porta_porta_castiglione.html">Porta Castiglione</a></li>
        <li><a href="../monuments/porta_porta_san_mamolo.html">Porta San Mamolo</a></li>
        <li><a href="../monuments/porta_porta_delle_lame.html">Porta Delle Lame</a></li>
        <li><a href="../monuments/porta_porta_san_donato.html">Porta San Donato</a></li>
        <li><a href="../monuments/porta_porta_san_vitale.html">Porta San Vitale</a></li>
      </ul>
    </li>
    <li><a href="../challenges.html">Faced Challenges</a></li>
    <li><a href="../conclusions.html">Conclusions</a></li>
  </ul>
</nav>

  <!-- CONTENT -->
  <section>
    <h1>Porta Maggiore (also known as Porta Mazzini)</h1>
    <p>
      Porta Maggiore is one of the historic gates of Bologna, dating back to the 
      medieval walls. It is also referred to as <i>"Porta Mazzini,"</i> since it straddles the site in which Strada Maggiore changes name to via Mazzini.
      Like the other gates, Porta Maggiore also has a name in the local dialect of Bologna: "p√¥rta ed Stra Ma≈º√•ur". This gate vas erected in the Thirteenth century, it was the main gate of the city of Bologna fo several decades. 
      Porta Maggiore was fortified in 1507 with a fortress that moved up north the entrance to the city, which was gradually moved back to its original locatioon. At the beginning of the XVII century, the characteristic porticos were added towards Via Mazzini to connect to "Santa Maria degli Alemanni" Church.
      The gate was also restored in 1770 according to architect Gian Giacomo Dotti's project. As well as all other gates of the third ring of walls, Porta Maggiore was recently restored, between 2007 and 2009.
      This page presents the results of SPARQL DESCRIBE and SELECT queries executed on the ArCo dataset to 
      retrieve structured information about this monument and CONSTRUCT queries to enrich the knowledge graph with some missing information.
    </p>

    <!-- IMAGE -->
    <div class="img-container">
      <img src="https://lh3.googleusercontent.com/gps-cs-s/AC9h4nqXxaK7o2_4JhFMk2BuAAL51rXZbt-gqPBPc6B6NlikumDfpAuN0Kck0daNlkPr7zQwj0pr1DUGhBSYQxsJeJVY4KV_Yvfg6m7_u0KvJNio_FCa0kSTocTavgpDMLaILlF4P9zLg2egxwo8=s1360-w1360-h1020-rw" alt="Porta Maggiore, Bologna">
      <p><i>Figure 1: Porta Maggiore, Bologna </i></p>
    </div>

    <!-- TABLE SUMMARY -->
    <h2>General Information</h2>
    <table>
      <tr><th>Identifier</th><td>0800241599</td></tr>
      <tr><th>Type</th><td>Architectural Heritage (Gate)</td></tr>
      <tr><th>Location</th><td>Bologna, Emilia-Romagna, Italy</td></tr>
      <tr><th>Alternative name</th><td>Porta Mazzini</td></tr>
      <tr><th>Restoration</th><td>2007‚Äì2009</td></tr>
    </table>

    <!-- QUERIES -->
    <h2>SPARQL Query 1: SELECT DISTINCT to retrieve the infromation concerning the Gate</h2>
    <p>
      Firstly, I used the following query to search for architectural heritage labeled as 
      <b>Porta Maggiore</b> in Bologna:
    </p>
    <pre>
PREFIX rdf:  &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#&gt;
PREFIX rdfs: &lt;http://www.w3.org/2000/01/rdf-schema#&gt;
PREFIX arco: &lt;https://w3id.org/arco/ontology/arco/&gt;
PREFIX arco-core: &lt;https://w3id.org/arco/ontology/core/&gt;
PREFIX cis:  &lt;http://dati.beniculturali.it/cis/&gt;

SELECT DISTINCT ?porta ?label
WHERE {
  ?porta rdf:type arco:ArchitecturalOrLandscapeHeritage .
  { ?porta rdfs:label ?label }
  UNION { ?porta cis:name ?label }
  UNION { ?porta arco-core:hasTitle ?title .
           ?title rdfs:label ?label }
  UNION { ?porta arco-core:hasDenomination ?den .
           ?den rdfs:label ?label }
  FILTER (REGEX(STR(?label), "Porta Maggiore", "i"))
  FILTER (REGEX(STR(?label), "Bologna", "i"))
}
LIMIT 100
    </pre>
<p>
  This query provides all the pages related to "Porta Maggiore" inside the ArCo ontology. There are to different links to the Italian and English language pages. Results are presented as follows: </p>
    <!-- IMAGE -->
    <div class="img-container">
    <img src="https://raw.githubusercontent.com/BrigittaRigon/Progetto_KE4H_/refs/heads/main/Images/Query%20SELECT%20result%201.png" >
      </div>
    <h2>SPARQL Query 2: DESCRIBE the entity found</h2>
    <p>
      Having found the ArCo page about Porta Maggiore, we have also found the unique identifier of the monument:"<b>0800241599</b>," to retrieve all RDF triples related to this identifier we execute 
       a <b>DESCRIBE</b> query as follows:
    </p>
    <pre>
PREFIX arco: &lt;https://w3id.org/arco/ontology/arco/&gt;

DESCRIBE ?s
WHERE {
  ?s arco:uniqueIdentifier "0800241599" .
}
ORDER BY ?s
LIMIT 200
    </pre>

    <!-- IMAGE 2 -->
    <!--div class="img-container">
      <img src="../img/porta_maggiore_plan.jpg" alt="Plan of Porta Maggiore">
      <p><i>Figure 2: Plan and structural details of Porta Maggiore</i></p>
  </div-->

    <h2>USE OF LLM'S</h2>
    <p>
      The <b> DESCRIBE</b> query provides a rich set of metadata, including 
      identifiers, classifications, and potential references to restoration events. To create this query I gave a Zero shot prompt to different LLM's: <a href="https://chatgpt.com/it-IT/overview/"> ChatGPT </a> and <a href= https://gemini.google.com/app?hl=it> Google Gemini. </a> 
      
    </p>
     <h3> ZERO SHOT PROMPT </h3>
<p>
  Create a DESCRIBE query to find all of the information available on the ArCo portal about the monument of "Porta Maggiore", unique identifier: 0800241599. Limit 200 results. ORDER alphabetically.  
Let's compare the two answers:
</p>
    <h3> GEMINI'S RESPONSE </h3>
    <!-- IMAGE -->
    <div class="img-container">
    <img src=https://raw.githubusercontent.com/BrigittaRigon/Progetto_KE4H_/refs/heads/main/Images/Answer%20Gemini%201desc.%20.png>
      <img src=https://raw.githubusercontent.com/BrigittaRigon/Progetto_KE4H_/refs/heads/main/Images/Gemini2.png>
      <p> Besides the query we asked for and a brief explenation of the QUery Components, Gemini also provides examples of questions to further elaborate our work: </p>
      <img src=https://raw.githubusercontent.com/BrigittaRigon/Progetto_KE4H_/refs/heads/main/Images/gemini3.png>
      </div>
     <h3> CHATGPT'S RESPONSE </h3>
    <div class= "img-container"> 
      <img src=https://raw.githubusercontent.com/BrigittaRigon/Progetto_KE4H_/refs/heads/main/Images/CHATGPT%20risp1.png>
    </div>

    
    <h3>COMMENTARY </h3>
    <p>
     The query provided by Gemini does not retrieve any information. On the contrary, the query proposed by ChatGPT works well to retrieve a functional table of triples about Porta Maggiore. 
    </p> 
    <div class= "img-container"> 
      <img src= https://raw.githubusercontent.com/BrigittaRigon/Progetto_KE4H_/refs/heads/main/Images/risultato%20chatgpt%201.png>
      </div>
      <p> To correct the error, I propose a OneShot prompt to Gemini with the correct query as an example: 
        I think I can have a ordered list of triples using the ORDER BY keyword. Look at this working query that ChatGPT produced as a response to the same prompt I gave you in the beginning.Use it as an example to correct the error:
PREFIX arco: &lt; https://w3id.org/arco/ontology/arco/&gt;
PREFIX dc:   &lt;http://purl.org/dc/elements/1.1/&gt;
PREFIX arco-arco: &lt; https://w3id.org/arco/resource/&gt;

DESCRIBE ?s
WHERE {
  ?s arco:uniqueIdentifier "0800241599" .
}
ORDER BY ?s
LIMIT 200
 I executed this on the ArCo knowledge graph and had as a result an ordered table of triples
      </p>
  <h3>GEMINI'S RESPONSE </h3>
    <p> You are absolutely correct. My previous answer was too general and missed a crucial detail about how SPARQL engines handle DESCRIBE queries with a WHERE clause. Thank you for providing that excellent example, as it highlights a powerful and valid use case.
The reason that query works is because you are not ordering the triples themselves, but rather the list of resources to be described.
The Logic of the Query
Your query works in two distinct steps:
1.	Finding the Resource(s): The SPARQL engine first executes the WHERE clause { ?s arco:uniqueIdentifier "0800241599" . }. This is a pattern matching step that finds all subjects (?s) that have the specified unique identifier. In this specific case, it finds only one subject: &lt;https://w3id.org/arco/resource/Monumento/0800241599&gt;.
2.	Ordering and Describing: The engine then takes this list of one subject, applies the ORDER BY ?s clause to it, and then applies the LIMIT 200 clause. Finally, it performs a DESCRIBE operation on each subject in the resulting list.
Since the WHERE clause only found a single resource (?s), the ORDER BY and LIMIT clauses have no practical effect on the output. However, the query is perfectly valid and syntactically correct, and it is the proper way to combine these elements.
The Correct and Complete Query
Based on your finding, here is the complete and correct query that retrieves all information about the "Porta Maggiore" monument, respects your desire for ordering, and is syntactically sound for the ArCo knowledge graph:
Snippet di codice
DESCRIBE ?s
WHERE {
  ?s &lt;https://w3id.org/arco/ontology/arco/uniqueIdentifier> "0800241599" .&gt;
}
ORDER BY ?s
LIMIT 200
This query is superior to a simple DESCRIBE with a hard-coded URI because it is more flexible. If you were looking for multiple monuments with a specific property, this same query structure would find and describe all of them, applying the ORDER BY and LIMIT clauses to the list of monuments before returning their descriptions.

    </p>
    <h2>ASKING LLM‚ÄôS HELP TO ENRICH THE KG </h2>
    <p>Since I noticed that the entity Piazza Maggiore was very well described in the ArCo ontology, I decided to ask the different LLM‚Äôs for help about the information I could add. 
<h3>PROMPT</h3>  
I need to enrich this entity in the Arco knowledge graph: https://w3id.org/arco/resource/ArchitecturalOrLandscapeHeritage/0800241599, what information can I add? 
ChatGPT provided the best answer because it gave me a list of all the existing and missing information and the predicates I should use to create the triples, with examples. In fact, ChatGPT took about 2/3 minutes to provide the answer, against the few seconds of the other LLMs (Gemini and DeepSeek). 
<p>Here is the Summary table of the answer provided by ChatGPT:</p>
      <div class="table-container">
            <table>
                <thead>
                    <tr>
                        <th>Enrichment Area</th>
                        <th>Suggestions</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td class="area">External Linking</td>
                        <td>owl:sameAs, alignment with external LOD like Wikidata or CIDOC-CRM <span class="info-icon">‚ÑπÔ∏è</span></td>
                    </tr>
                    <tr>
                        <td class="area">Contextual Designation</td>
                        <td>More detailed historical dating, phases of use or restoration</td>
                    </tr>
                    <tr>
                        <td class="area">Documentation</td>
                        <td>3D models, plan drawings, inscription texts, archival sources</td>
                    </tr>
                    <tr>
                        <td class="area">Material Details</td>
                        <td>Technical status, construction materials</td>
                    </tr>
                    <tr>
                        <td class="area">Provenance & Ownership</td>
                        <td>Acquisition history, previous owners</td>
                    </tr>
                    <tr>
                        <td class="area">Spatial Data</td>
                        <td>Precise coordinates, GIS representations, historical maps</td>
                    </tr>
                    <tr>
                        <td class="area">Authorship Attribution</td>
                        <td>Architect names, designer attributions</td>
                    </tr>
                    <tr>
                        <td class="area">Usage Evolution</td>
                        <td>Detailed current/historical uses</td>
                    </tr>
                    <tr>
                        <td class="area">Interventions & Conservation</td>
                        <td>Timeline, type of conservation work, methodologies</td>
                    </tr>
                    <tr>
                        <td class="area">Cultural Significance</td>
                        <td>Symbolic or community-related attributions, linked events</td>
                    </tr>
                </tbody>
            </table>
        </div>
        <h2>SPARQL Query 3: CONSTRUCT new triples </h2>
        To add new triples to the KG concerning the restoration of Porta Maggiore in 2007 and 2009, I tried giving a few shot prompt to the three LLMs mentioned above: 
    <h3>PROMPT</h3>
    <p>Let‚Äôs create a construct query to create new triples that will enrich the Porta Maggiore page in Arco.  The information to be added should be inserted in the hasDating predicate to say that between 2007 and 2009 the monument was restored.  Let‚Äôs think step by step.
Use these 2 queries as examples: 
      <pre>PREFIX dc: &lt http://purl.org/dc/elements/1.1/>
PREFIX rdfs: &lt http://www.w3.org/2000/01/rdf-schema#>
CONSTRUCT {
  &lt https://dati.beniculturali.it/resource/CulturalProperty/0800241627>
    dc:title "p√¥rta ed San Fl√Æ·π°"@bo ;
    rdfs:label "p√¥rta ed San Fl√Æ·π°"@bo .
}
WHERE {
  FILTER (true)
}
PREFIX arco-cons: &lt https://w3id.org/arco/ontology/construction-description/>
PREFIX arco-den: &lt https://w3id.org/arco/ontology/denotative-description/>
PREFIX arco-event: &lt https://w3id.org/arco/ontology/cultural-event/>
PREFIX arco-core: &lt https://w3id.org/arco/ontology/core/>
PREFIX rdfs: &lt http://www.w3.org/2000/01/rdf-schema#>
PREFIX dc: &lt http://purl.org/dc/elements/1.1/>

CONSTRUCT {
  &lt https://dati.beniculturali.it/resource/CulturalProperty/0800241649>
    arco-cons:hasPreviousStructureOrElement "cassero medievale"@it ;
    arco-cons:hasArchitecturalOrder "baroque"@en ;
    arco-den:hasMaterial "brick"@en ;
    arco-event:hasRelatedEvent "battle of Porta Lame during WWII"@en ;
    arco-core:describes "the latin name Lame refers to swamps"@en ;
    arco-core:isPartOf "Bologna's city gates"@en ;
    arco-den:AffixedElement "two lions"@en .
}
WHERE {
  FILTER (true)
} </pre>

<h3> DIFFERENT RESULT: </h3>
    <p><b>GEMINI:</b></p>
    <pre>PREFIX arco:  &lt https://w3id.org/arco/ontology/arco/>
PREFIX arco-cd:  &lt https://w3id.org/arco/ontology/context-description/>
PREFIX rdfs:  &lt http://www.w3.org/2000/01/rdf-schema#>
PREFIX time:  &lt http://www.w3.org/2006/time#>
PREFIX xsd:  &lt http://www.w3.org/2001/XMLSchema#>

CONSTRUCT {
   &lt https://w3id.org/arco/resource/ArchitecturalOrLandscapeHeritage/0800241599>
    arco-cd:hasDating [
      a arco-cd:Dating ;
      rdfs:label "Restoration of the Porta Maggiore monument"@en ;
      arco-cd:hasTimeInterval [
        a time:Interval ;
        time:hasBeginning [
          a time:Instant ;
          time:inXSDDateTime "2007-01-01T00:00:00Z"^^xsd:dateTime
        ] ;
        time:hasEnd [
          a time:Instant ;
          time:inXSDDateTime "2009-12-31T23:59:59Z"^^xsd:dateTime
        ]
      ]
    ] .
}
WHERE {
  FILTER (true)
}</pre>

          <img src="https://raw.githubusercontent.com/BrigittaRigon/Progetto_KE4H_/refs/heads/main/Images/1.1.png">
    <p><b>CHAT:</b></p>
    <pre>PREFIX arco-cd: &lt https://w3id.org/arco/ontology/context-description/>
PREFIX l0:      &lt https://w3id.org/italia/onto/l0/>
PREFIX ti:      &lt https://w3id.org/italia/onto/TI/>
PREFIX rdfs:    &lt http://www.w3.org/2000/01/rdf-schema#>
PREFIX xsd:     &lt http://www.w3.org/2001/XMLSchema#>

CONSTRUCT {
  &lt https://w3id.org/arco/resource/ArchitecturalOrLandscapeHeritage/0800241599>
      arco-cd:hasDating &lt https://w3id.org/arco/resource/Dating/0800241599-restauro-2007-2009> .

  &lt https://w3id.org/arco/resource/Dating/0800241599-restauro-2007-2009>
      a               arco-cd:Dating ;
      rdfs:label      "Cronologia restauro 2007‚Äì2009 del bene 0800241599"@it ;
      l0:name         "Cronologia restauro 2007‚Äì2009 del bene 0800241599"@it ;
      arco-cd:hasDatingEvent &lthttps://w3id.org/arco/resource/Event/0800241599-restauro-2007-2009> .

  &lt https://w3id.org/arco/resource/Event/0800241599-restauro-2007-2009>
      a               l0:Event ;
      rdfs:label      "restauro"@it ;
      l0:name         "restauro"@it ;
      ti:atTime       &lthttps://w3id.org/arco/resource/TimeInterval/2007-2009> .

  &lt https://w3id.org/arco/resource/TimeInterval/2007-2009>
      a               ti:TimeInterval ;
      rdfs:label      "2007-2009"@it ;
      ti:startTime    "2007"^^xsd:gYear ;
      ti:endTime      "2009"^^xsd:gYear .
}
WHERE {
  FILTER(true)
}
</pre>
          <img src="https://raw.githubusercontent.com/BrigittaRigon/Progetto_KE4H_/refs/heads/main/Images/2.png">


    <p><b>DEEPSEEK:</b></p>
    <pre>PREFIX arco:  &lt https://w3id.org/arco/ontology/arco/>
PREFIX arco-event:  &lt https://w3id.org/arco/ontology/cultural-event/>
PREFIX rdfs:  &lt http://www.w3.org/2000/01/rdf-schema#>
PREFIX xsd:  &lt http://www.w3.org/2001/XMLSchema#>

CONSTRUCT {
  # The main triple linking Porta Maggiore to a new dating event
   &lt https://w3id.org/arco/resource/ArchitecturalOrLandscapeHeritage/0800241599>
    arco:hasDating ?restorationEvent .

  # The details of the restoration event itself
  ?restorationEvent a arco-event:RestorationEvent ;
                    rdfs:label "Restauro della Porta Maggiore (2007-2009)"@it ;
                    arco:hasTimeSpan ?timeSpan .

  # The details of the time span for the event
  ?timeSpan a arco:TimeSpan ;
            arco:startYear "2007"^^xsd:gYear ;
            arco:endYear "2009"^^xsd:gYear .
}
WHERE {
  # We need to generate unique identifiers for the new event and time span nodes.
  # We use the UUID() function to create stable, unique blank node identifiers.
  BIND(URI(CONCAT("urn:uuid:", STRUUID())) AS ?restorationEvent)
  BIND(URI(CONCAT("urn:uuid:", STRUUID())) AS ?timeSpan)

  # The FILTER (true) is kept from your examples to ensure the WHERE clause
  # always evaluates to true and generates the bindings for our new nodes.
  FILTER (true)
}
</pre>
              <img src="https://raw.githubusercontent.com/BrigittaRigon/Progetto_KE4H_/refs/heads/main/Images/3.png">

</p>
    <p>  Gemini and Deep Seek provided a step-by-step explanation. Whereas chat gpt did not. Moreover, we can see that the query provided by DeepSeek does not work.
    </p>  
    <h2> FINAL CONSTRUCT QUERY AND RESULTS </h2>
<p> Having this working query, it was possible to add other information to the same query to keep enriching the KG, repeating the same subject but changing predicates and objects. Here‚Äôs the final result. 
</p>
    <pre> PREFIX arco-cd: &lt;https://w3id.org/arco/ontology/context-description/> 
PREFIX arco-dd: &lt;https://w3id.org/arco/ontology/description/>
PREFIX l0:      &lt;https://w3id.org/italia/onto/l0/>
PREFIX ti:      &lt;https://w3id.org/italia/onto/TI/>
PREFIX rdfs:    &lt;http://www.w3.org/2000/01/rdf-schema#>
PREFIX xsd:     &lt;http://www.w3.org/2001/XMLSchema#>
PREFIX dc:      &lt;http://purl.org/dc/elements/1.1/>

CONSTRUCT {
  &lt;https://dati.beniculturali.it/resource/CulturalProperty/0800241599>
    arco-dd:hasMaterial "laterizio" ;
    rdfs:label "Porta Maggiore (Bologna)"@it ;
    dc:title "p√¥rta ed Stra Ma≈º√•ur"@bo ;
    rdfs:label "p√¥rta ed Stra Ma≈º√•ur"@bo .
  &lt;https://w3id.org/arco/resource/ArchitecturalOrLandscapeHeritage/0800241599>
      arco-cd:hasDating &lt;https://w3id.org/arco/resource/Dating/0800241599-restauro-2007-2009> .

  &lt;https://w3id.org/arco/resource/Dating/0800241599-restauro-2007-2009>
      a               arco-cd:Dating ;
      rdfs:label      "Cronologia restauro 2007‚Äì2009 del bene 0800241599"@it ;
      l0:name         "Cronologia restauro 2007‚Äì2009 del bene 0800241599"@it ;
      arco-cd:hasDatingEvent &lt;https://w3id.org/arco/resource/Event/0800241599-restauro-2007-2009> .

  &lt;https://w3id.org/arco/resource/Event/0800241599-restauro-2007-2009>
      a               l0:Event ;
      rdfs:label      "restauro"@it ;
      l0:name         "restauro"@it ;
      ti:atTime       &lt;https://w3id.org/arco/resource/TimeInterval/2007-2009> .

  &lt;https://w3id.org/arco/resource/TimeInterval/2007-2009>
      a               ti:TimeInterval ;
      rdfs:label      "2007-2009"@it ;
      ti:startTime    "2007"^^xsd:gYear ;
      ti:endTime      "2009"^^xsd:gYear .
}
WHERE {
  FILTER (true)
}
</pre>
   
                     <img src="https://raw.githubusercontent.com/BrigittaRigon/Progetto_KE4H_/refs/heads/main/Images/1.png">


</pre>
  <h3>CONCLUSION</h3>
    <p> Even though the monument of Porta Maggiore was thouroughly described in the Arco database, it was possible to add some information about the material, the name in the local dialect and the most recent restoration. 
    After dealing with some minor inconveniences with the LLMs, this work revealed itself as a very rewarding and rather intuitive activity. I surely learned a lot from this project and had quite a bit of fun creating my part of the website.
    To learn more about the challenges the group and I faced during this project, visit the <a href="../challenges.html">Faced Challenges</a> section of this website. 
 </p>
  </section>
</body>
</html>
