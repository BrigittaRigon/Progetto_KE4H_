<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Porta Maggiore </title>
  <link rel="stylesheet" href="../style.css">
  <style>
    pre {
      background: #f3e6ff;
      border-left: 4px solid #6a0dad;
      padding: 10px;
      overflow-x: auto;
      border-radius: 8px;
      font-size: 14px;
    }
    h2 {
      color: #4b0082;
      margin-top: 30px;
    }
    .img-container {
      text-align: center;
      margin: 20px 0;
    }
    .img-container img {
      max-width: 80%;
      border-radius: 10px;
      box-shadow: 0 4px 8px rgba(0,0,0,0.2);
    }
    h3 {
      color: #be6cfa; 
      margin-top: 26px; 
    }
    table {
      border-collapse: collapse;
      margin: 20px auto;
      width: 80%;
      background: #fff;
    }
    th, td {
      border: 1px solid #ddd;
      padding: 10px;
      text-align: left;
    }
    th {
      background: #6a0dad;
      color: white;
    }
  </style>
</head>
<body>
  <!-- NAVBAR -->
 <nav>
  <ul>
    <li><a href="../index.html">üè† Home</a></li>
    <li><a href="../methodology.html">Methodology</a></li>
    <li><a href="../sparql.html">SPARQL Queries</a></li>
    <li>
      <a href="#">Monuments ‚ñº</a>
      <ul>
        <li><a href="../monuments/porta_porta_maggiore.html">Porta Maggiore</a></li>
        <li><a href="../monuments/porta_porta_castiglione.html">Porta Castiglione</a></li>
        <li><a href="../monuments/porta_porta_san_mamolo.html">Porta San Mamolo</a></li>
        <li><a href="../monuments/porta_porta_delle_lame.html">Porta Delle Lame</a></li>
        <li><a href="../monuments/porta_porta_san_donato.html">Porta San Donato</a></li>
        <li><a href="../monuments/porta_porta_san_vitale.html">Porta San Vitale</a></li>
      </ul>
    </li>
    <li><a href="../challenges.html">Faced Challenges</a></li>
    <li><a href="../conclusions.html">Conclusions</a></li>
  </ul>
</nav>

  <!-- CONTENT -->
  <section>
    <h1>Porta Maggiore (also known as Porta Mazzini)</h1>
    <p>
      Porta Maggiore is one of the historic gates of Bologna, dating back to the 
      medieval walls. It is also referred to as <i>"Porta Mazzini,"</i> since it straddles the site in which Strada Maggiore changes name to via Mazzini.
      Like the other gates, Porta Maggiore also has a name in the local dialect of Bologna: "p√¥rta ed Stra Ma≈º√•ur". This gate vas erected in the Thirteenth century, it was the main gate of the city of Bologna fo several decades. 
      Porta Maggiore was fortified in 1507 with a fortress that moved up north the entrance to the city, which was gradually moved back to its original locatioon. At the beginning of the XVII century, the characteristic porticos were added towards Via Mazzini to connect to "Santa Maria degli Alemanni" Church.
      The gate was also restored in 1770 according to architect Gian Giacomo Dotti's project. As well as all other gates of the third ring of walls, Porta Maggiore was recently restored, between 2007 and 2009.
      This page presents the results of SPARQL DESCRIBE and SELECT queries executed on the ArCo dataset to 
      retrieve structured information about this monument and CONSTRUCT queries to enrich the knowledge graph with some missing information.
    </p>

    <!-- IMAGE -->
    <div class="img-container">
      <img src="https://lh3.googleusercontent.com/gps-cs-s/AC9h4nqXxaK7o2_4JhFMk2BuAAL51rXZbt-gqPBPc6B6NlikumDfpAuN0Kck0daNlkPr7zQwj0pr1DUGhBSYQxsJeJVY4KV_Yvfg6m7_u0KvJNio_FCa0kSTocTavgpDMLaILlF4P9zLg2egxwo8=s1360-w1360-h1020-rw" alt="Porta Maggiore, Bologna">
      <p><i>Figure 1: Porta Maggiore in Bologna (example image)</i></p>
    </div>

    <!-- TABLE SUMMARY -->
    <h2>General Information</h2>
    <table>
      <tr><th>Identifier</th><td>0800241599</td></tr>
      <tr><th>Type</th><td>Architectural Heritage (Gate)</td></tr>
      <tr><th>Location</th><td>Bologna, Emilia-Romagna, Italy</td></tr>
      <tr><th>Alternative name</th><td>Porta Mazzini</td></tr>
      <tr><th>Restoration</th><td>2007‚Äì2009</td></tr>
    </table>

    <!-- QUERIES -->
    <h2>SPARQL Query 1: SELECT DISTINCT to retrieve the infromation concerning the Gate</h2>
    <p>
      Firstly, I used the following query to search for architectural heritage labeled as 
      <b>Porta Maggiore</b> in Bologna:
    </p>
    <pre>
PREFIX rdf:  &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#&gt;
PREFIX rdfs: &lt;http://www.w3.org/2000/01/rdf-schema#&gt;
PREFIX arco: &lt;https://w3id.org/arco/ontology/arco/&gt;
PREFIX arco-core: &lt;https://w3id.org/arco/ontology/core/&gt;
PREFIX cis:  &lt;http://dati.beniculturali.it/cis/&gt;

SELECT DISTINCT ?porta ?label
WHERE {
  ?porta rdf:type arco:ArchitecturalOrLandscapeHeritage .
  { ?porta rdfs:label ?label }
  UNION { ?porta cis:name ?label }
  UNION { ?porta arco-core:hasTitle ?title .
           ?title rdfs:label ?label }
  UNION { ?porta arco-core:hasDenomination ?den .
           ?den rdfs:label ?label }
  FILTER (REGEX(STR(?label), "Porta Maggiore", "i"))
  FILTER (REGEX(STR(?label), "Bologna", "i"))
}
LIMIT 100
    </pre>
<p>
  This query provides all the pages related to "Porta Maggiore" inside the ArCo ontology. There are to different links to the Italian and English language pages. Results are presented as follows: </p>
    <!-- IMAGE -->
    <div class="img-container">
    <img src="https://raw.githubusercontent.com/BrigittaRigon/Progetto_KE4H_/refs/heads/main/Images/Query%20SELECT%20result%201.png" >
      </div>
    <h2>SPARQL Query 2: DESCRIBE the entity found</h2>
    <p>
      Having found the ArCo page about Porta Maggiore, we have also found the unique identifier of the monument:"<b>0800241599</b>," to retrieve all RDF triples related to this identifier we execute 
       a <b>DESCRIBE</b> query as follows:
    </p>
    <pre>
PREFIX arco: &lt;https://w3id.org/arco/ontology/arco/&gt;

DESCRIBE ?s
WHERE {
  ?s arco:uniqueIdentifier "0800241599" .
}
ORDER BY ?s
LIMIT 200
    </pre>

    <!-- IMAGE 2 -->
    <!--div class="img-container">
      <img src="../img/porta_maggiore_plan.jpg" alt="Plan of Porta Maggiore">
      <p><i>Figure 2: Plan and structural details of Porta Maggiore</i></p>
  </div-->

    <h2>USE OF LLM'S</h2>
    <p>
      The <b> DESCRIBE</b> query provides a rich set of metadata, including 
      identifiers, classifications, and potential references to restoration events. To create this query I gave a Zero shot prompt to different LLM's: <a href="https://chatgpt.com/it-IT/overview/"> ChatGPT </a> and <a href= https://gemini.google.com/app?hl=it> Google Gemini. </a> 
      
    </p>
     <h3> ZERO SHOT PROMPT </h3>
<p>
  Create a DESCRIBE query to find all of the information available on the ArCo portal about the monument of "Porta Maggiore", unique identifier: 0800241599. Limit 200 results. ORDER alphabetically.  
Let's compare the two answers:
</p>
    <h3> GEMINI'S RESPONSE </h3>
    <!-- IMAGE -->
    <div class="img-container">
    <img src=https://raw.githubusercontent.com/BrigittaRigon/Progetto_KE4H_/refs/heads/main/Images/Answer%20Gemini%201desc.%20.png>
      <img src=https://raw.githubusercontent.com/BrigittaRigon/Progetto_KE4H_/refs/heads/main/Images/Gemini2.png>
      <p> Besides the query we asked for and a brief explenation of the QUery Components, Gemini also provides examples of questions to further elaborate our work: </p>
      <img src=https://raw.githubusercontent.com/BrigittaRigon/Progetto_KE4H_/refs/heads/main/Images/gemini3.png>
      </div>
     <h3> CHATGPT'S RESPONSE </h3>
    <div class= "img-container"> 
      <img src=https://raw.githubusercontent.com/BrigittaRigon/Progetto_KE4H_/refs/heads/main/Images/CHATGPT%20risp1.png>
    </div>

    
    <h3>COMMENTARY </h3>
    <p>
     The query provided by Gemini does not retrieve any information. On the contrary, the query proposed by ChatGPT works well to retrieve a functional table of triples about Porta Maggiore. 
    </p> 
    <div class= "img-container"> 
      <img src= https://raw.githubusercontent.com/BrigittaRigon/Progetto_KE4H_/refs/heads/main/Images/risultato%20chatgpt%201.png>
      </div>
      <p> To correct the error, I propose a OneShot prompt to Gemini with the correct query as an example: 
        I think I can have a ordered list of triples using the ORDER BY keyword. Look at this working query that ChatGPT produced as a response to the same prompt I gave you in the beginning.Use it as an example to correct the error:
PREFIX arco: &lt; https://w3id.org/arco/ontology/arco/&gt;
PREFIX dc:   &lt;http://purl.org/dc/elements/1.1/&gt;
PREFIX arco-arco: &lt; https://w3id.org/arco/resource/&gt;

DESCRIBE ?s
WHERE {
  ?s arco:uniqueIdentifier "0800241599" .
}
ORDER BY ?s
LIMIT 200
 I executed this on the ArCo knowledge graph and had as a result an ordered table of triples
      </p>
  <h3>GEMINI'S RESPONSE </h3>
    <p> You are absolutely correct. My previous answer was too general and missed a crucial detail about how SPARQL engines handle DESCRIBE queries with a WHERE clause. Thank you for providing that excellent example, as it highlights a powerful and valid use case.
The reason that query works is because you are not ordering the triples themselves, but rather the list of resources to be described.
The Logic of the Query
Your query works in two distinct steps:
1.	Finding the Resource(s): The SPARQL engine first executes the WHERE clause { ?s arco:uniqueIdentifier "0800241599" . }. This is a pattern matching step that finds all subjects (?s) that have the specified unique identifier. In this specific case, it finds only one subject: &lt;https://w3id.org/arco/resource/Monumento/0800241599&gt;.
2.	Ordering and Describing: The engine then takes this list of one subject, applies the ORDER BY ?s clause to it, and then applies the LIMIT 200 clause. Finally, it performs a DESCRIBE operation on each subject in the resulting list.
Since the WHERE clause only found a single resource (?s), the ORDER BY and LIMIT clauses have no practical effect on the output. However, the query is perfectly valid and syntactically correct, and it is the proper way to combine these elements.
The Correct and Complete Query
Based on your finding, here is the complete and correct query that retrieves all information about the "Porta Maggiore" monument, respects your desire for ordering, and is syntactically sound for the ArCo knowledge graph:
Snippet di codice
DESCRIBE ?s
WHERE {
  ?s &lt;https://w3id.org/arco/ontology/arco/uniqueIdentifier> "0800241599" .&gt;
}
ORDER BY ?s
LIMIT 200
This query is superior to a simple DESCRIBE with a hard-coded URI because it is more flexible. If you were looking for multiple monuments with a specific property, this same query structure would find and describe all of them, applying the ORDER BY and LIMIT clauses to the list of monuments before returning their descriptions.

    </p>
  </section>
</body>
</html>
